import { Meta, Props, Story, Preview } from "@storybook/addon-docs/blocks";
import { action } from "@storybook/addon-actions";
import {
  withKnobs,
  object,
  boolean,
  text,
  select,
  number
} from "@storybook/addon-knobs";
import { withInfo } from "storybook-addon-vue-info";
import TextField from "../../components/TextField.vue";
import ChecIcon from "../../components/ChecIcon.vue";
import ChecFormField from "../../components/ChecFormField.vue";
import ChecSwitch from "../../components/ChecSwitch.vue";
import ChecSegmentedButtonsGroup from "../../components/ChecSegmentedButtonsGroup.vue";
import { uiIcons } from "../../lib/icons";

<Meta title="Form fields/Text field" component={TextField} />

# Text Field

<Props of={TextField} />

# Default

<Preview>
  <Story name="Defaults">
    {{
      props: {
        errored: {
          default: boolean("Errored", false)
        },
        disabled: {
          default: boolean("Disabled", false)
        },
        type: {
          default: select(
            "Type",
            [
              "text",
              "email",
              "password",
              "number",
              "date",
              "color",
              "month",
              "search",
              "tel",
              "url",
              "week"
            ],
            "text"
          )
        }
      },
      data() {
        return { inputValue: "" };
      },
      computed: {
        variant() {
          return this.disabled ? "disabled" : this.errored ? "error" : "";
        }
      },
      components: {
        ChecFormField,
        TextField
      },
      methods: {
        handleClick(e, value) {
          return action(
            `Text field action button was clicked with: ${value}`
          )();
        }
      },
      template: `
        <div class="py-16 flex justify-center">
          <ChecFormField
            :appendLabel="appendLabel"
            :tooltip="tooltip"
            :icon="icon"
            @action-click="handleClick"
            class="w-full max-w-sm"
          >
            <TextField
              name="input-name"
              placeholder="Placeholder"
              v-model="inputValue"
              :variant="variant"
              :style-variant="styleVariant"
              :type="type"
              style="border: 1px solid #E5E5E5;"
              />
          </ChecFormField>
        </div>`
    }}
  </Story>
</Preview>

# Focus

<Preview>
  <Story name="Focus">
    {{
      props: {
        errored: {
          default: boolean("Errored", false)
        },
        disabled: {
          default: boolean("Disabled", false)
        },
        type: {
          default: select(
            "Type",
            [
              "text",
              "email",
              "password",
              "number",
              "date",
              "color",
              "month",
              "search",
              "tel",
              "url",
              "week"
            ],
            "text"
          )
        }
      },
      data() {
        return { inputValue: "" };
      },
      computed: {
        variant() {
          return this.disabled ? "disabled" : this.errored ? "error" : "";
        }
      },
      components: {
        ChecFormField,
        TextField
      },
      methods: {
        handleClick(e, value) {
          return action(
            `Text field action button was clicked with: ${value}`
          )();
        }
      },
      template: `
        <div class="py-16 flex justify-center">
          <ChecFormField
            :appendLabel="appendLabel"
            :tooltip="tooltip"
            :icon="icon"
            @action-click="handleClick"
            class="w-full max-w-sm"
          >
            <TextField
              name="input-name"
              placeholder="Placeholder"
              v-model="inputValue"
              :variant="variant"
              :style-variant="styleVariant"
              :type="type"
              style="border:1px solid #F6DA2B"
              />
          </ChecFormField>
        </div>`
    }}
  </Story>
</Preview>

# Success

<Preview>
  <Story name="Success">
    {{
      components: {
        TextField,
        ChecFormField,
        ChecIcon,
        ChecSwitch,
        ChecSegmentedButtonsGroup
      },
      props: {
        variant: {
          default: boolean("Disabled", false) ? "disabled" : ""
        }
      },
      data() {
        return {
          inputValue: "",
          switchState: false,
          options: [
            { label: "Label", value: "1" },
            { label: "Label", value: "2" }
          ],
          selected: "1"
        };
      },
      template: `
        <div class="py-16 flex justify-center flex flex-col justify-center">
          <TextField
            class="self-center w-full max-w-sm mb-4"
            v-model="inputValue"
            type="text"
            :variant="variant"
            style="border:1px solid #CA3724"
          >
            <ChecIcon icon="check-square" class="w-4 h-4" style="background-color#219653" />
          </TextField>
        </div>`
    }}
  </Story>
</Preview>

# Error

<Preview>
  <Story name="Error">
    {{
      components: {
        TextField,
        ChecFormField,
        ChecIcon,
        ChecSwitch,
        ChecSegmentedButtonsGroup
      },
      props: {
        variant: {
          default: boolean("Disabled", false) ? "disabled" : ""
        }
      },
      data() {
        return {
          inputValue: "",
          switchState: false,
          options: [
            { label: "Label", value: "1" },
            { label: "Label", value: "2" }
          ],
          selected: "1"
        };
      },
      template: `
        <div class="py-16 flex justify-center flex flex-col justify-center">
          <TextField
            class="self-center w-full max-w-sm mb-4"
            v-model="inputValue"
            type="text"
            :variant="variant"
          >
            <ChecIcon icon="close-square" class="w-4 h-4 text-gray-500" />
          </TextField>
        </div>`
    }}
  </Story>
</Preview>
